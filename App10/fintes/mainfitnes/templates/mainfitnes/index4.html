{% load static %}
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BodyClub - –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏</title>
    <link rel="stylesheet" href="{% static 'mainfitnes/css/style.css' %}">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <header class="header">
            <div class="header_logo">
                <a href="{% url 'index' %}" class="header_logo_h1">BodyClub</a>
            </div>
                <nav class="navigation">
                    <a href="{% url 'index2' %}" class="navigation_a"> –ê–±–æ–Ω–µ–º–µ–Ω—Ç—ã</a>
                    <a href="{% url 'index3' %}" class="navigation_a"> –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ </a>
                    <a href="{% url 'index4' %}" class="navigation_a"> –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ </a>
                    <a href="{% url 'index5' %}" class="navigation_a"> –ö–æ–Ω—Ç–∞–∫—Ç—ã </a>
                    {% if user.is_authenticated %}
                        <a href="{% url 'profile' %}" class="navigation_a">–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</a>
                    {% else %}
                        <a href="{% url 'login' %}" class="navigation_a">–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</a>
                    {% endif %}
                </nav>
            <div class="svaz">
                <button class="callback-btn">–û–±—Ä–∞—Ç–Ω—ã–π –∑–≤–æ–Ω–æ–∫</button>
            </div>
            <button class="hamburger" id="hamburger">&#9776;</button>
        </header>

        <div class="crumbl_block">
            <p class="crumbs_text">–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ / –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ </p>
        </div>

        <div class="workouts-section">
            <h2>–ì—Ä—É–ø–ø–æ–≤—ã–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏</h2>
            
            <div class="workouts-filters">
                <button class="filter-btn active" data-branch="all">–í—Å–µ —Ñ–∏–ª–∏–∞–ª—ã</button>
                <button class="filter-btn" data-branch="dvor">–î–≤–æ—Ä—Ü–æ–≤–∞—è 4–ê</button>
                <button class="filter-btn" data-branch="repina">—É–ª. –†–µ–ø–∏–Ω–∞ 4</button>
                <button class="filter-btn" data-branch="lenina">–ø—Ä. –õ–µ–Ω–∏–Ω—Å–∫–æ–≥–æ –ö–æ–º—Å–æ–º–æ–ª–∞ 34</button>
            </div>
            
            <div id="workouts-container" class="workouts-grid">

            </div>
        </div>

            <div class = "container2">
        <section class="slider">
            <div class="slider_header">
                <h2 class="slider_title">–°–ø–æ—Ä—Ç-–∫–ª—É–± BodyClub</h2>
                <div class="slider_controls">
                    <button class="slider_btn prev">&#10094;</button>
                    <button class="slider_btn next">&#10095;</button>
                </div>
            </div>

            <div class="slider_container">
                <div class="slider_track">
                <img src="{% static 'mainfitnes/img/club1.png' %}" alt="–ó–∞–ª 1" class="slider_image">
                <img src="{% static 'mainfitnes/img/club2.png' %}" alt="–ó–∞–ª 2" class="slider_image">
                <img src="{% static 'mainfitnes/img/club3.png' %}" alt="–ó–∞–ª 3" class="slider_image">
                <img src="{% static 'mainfitnes/img/club4.png' %}" alt="–ó–∞–ª 4" class="slider_image">
                <img src="{% static 'mainfitnes/img/club5.png' %}" alt="–ó–∞–ª 5" class="slider_image">
                <img src="{% static 'mainfitnes/img/club6.png' %}" alt="–ó–∞–ª 6" class="slider_image">
                </div>
            </div>

            <div class="slider_dots">
                <span class="dot active"></span>
                <span class="dot"></span>
                <span class="dot"></span>
                <span class="dot"></span>
                <span class="dot"></span>
                <span class="dot"></span>
            </div>
        </section>

        <section class="centers">
            <div class="centers_header">
                <h2 class="centers_title">–§–∏—Ç–Ω–µ—Å-—Ü–µ–Ω—Ç—Ä—ã</h2>
            </div>
            <div class="centers_cards">
                <div class="center_card">
                    <img src="{% static 'mainfitnes/img/club1.png' %}" alt="–¶–µ–Ω—Ç—Ä 1" class="center_image">
                    <div class="center_label">–§–∏—Ç–Ω–µ—Å –∫–ª—É–± –Ω–∞ –î–≤–æ—Ä—Ü–æ–≤–æ–π 4–ê</div>
                </div>
                <div class="center_card">
                    <img src="{% static 'mainfitnes/img/club2.png' %}" alt="–¶–µ–Ω—Ç—Ä 2" class="center_image">
                    <div class="center_label">–§–∏—Ç–Ω–µ—Å –∫–ª—É–± –Ω–∞ —É–ª. –†–µ–ø–∏–Ω–∞ 4</div>
                </div>
                <div class="center_card">
                    <img src="{% static 'mainfitnes/img/club3.png' %}" alt="–¶–µ–Ω—Ç—Ä 3" class="center_image">
                    <div class="center_label">–§–∏—Ç–Ω–µ—Å –∫–ª—É–± –Ω–∞ –ø—Ä. –õ–µ–Ω–∏–Ω—Å–∫–æ–≥–æ –ö–æ–º—Å–æ–º–æ–ª–∞ 34</div>
                </div>
            </div>
        </section>

        <section class="trainers">
            <div class="trainers_header">
                <h2 class="trainers_title">–ù–∞—à–∏ —Ç—Ä–µ–Ω–µ—Ä–∞ BodyClub</h2>
                <div class="trainers_controls">
                    <button class="trainers_btn">&#10094;</button>
                    <button class="trainers_btn">&#10095;</button>
                </div>
            </div>

            <div class="fortrainer">
                <div class="trainer_card">
                    <img src="{% static 'mainfitnes/img/trainer1.png' %}" alt="–¢—Ä–µ–Ω–µ—Ä BodyClub" class="trainer_image">
                    <div class="trainer_name">–ê–Ω–Ω–∞—Å—Ç–∞—Å–∏—è –ì—Ä–æ–º–∫–∏—Ö</div>
                    <div class="trainer_role">–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π —Ç—Ä–µ–Ω–µ—Ä</div>
                    <div class="trainer_description">
                        –î–≤–æ—Ä—Ü–æ–≤–∞—è, 4–ê<br>
                        –î–∏–ø–ª–æ–º –∞—Å—Å–æ—Ü–∏–∞—Ü–∏–∏ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª–æ–≤ —Ñ–∏—Ç–Ω–µ—Å–∞.<br>
                        –°–µ—Ä—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä: –∞—ç—Ä–æ–±–∏–∫–∞, —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π, —Å–∏–ª–æ–≤–æ–π —Ç—Ä–µ–Ω–∏–Ω–≥, stretching, –¥–µ—Ç—Å–∫–∏–π —Ñ–∏—Ç–Ω–µ—Å.<br>
                        –ü–æ–º–æ–≥—É –¥–æ–±–∏—Ç—å—Å—è –∂–µ–ª–∞–µ–º–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞, —É–ª—É—á—à–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–º–∞, —Ä–∞—Å—Ç—è–Ω—É—Ç—å –≤–∞—à–∏ –º—ã—à—Ü—ã.<br>
                        <strong>–û–ø—ã—Ç —Ä–∞–±–æ—Ç—ã: 5 –ª–µ—Ç</strong>
                    </div>
                </div>

            <div class="trainer_card">
                <img src="{% static 'mainfitnes/img/trainer2.png' %}" alt="–¢—Ä–µ–Ω–µ—Ä BodyClub" class="trainer_image">
                <div class="trainer_name">–ê–Ω–¥—Ä–µ–π –ö—É–∑–Ω–µ—Ü–æ–≤</div>
                <div class="trainer_role">–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π —Ç—Ä–µ–Ω–µ—Ä</div>
                <div class="trainer_description">
                    –î–≤–æ—Ä—Ü–æ–≤–∞—è, 4–ê<br>
                    –î–∏–ø–ª–æ–º –∞—Å—Å–æ—Ü–∏–∞—Ü–∏–∏ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª–æ–≤ —Ñ–∏—Ç–Ω–µ—Å–∞.<br>
                    –°–µ—Ä—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä: —Å–∏–ª–æ–≤–æ–π —Ç—Ä–µ–Ω–∏–Ω–≥, —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ç—Ä–µ–Ω–∏–Ω–≥, —Å–Ω–∏–∂–µ–Ω–∏–µ –≤–µ—Å–∞, –Ω–∞–±–æ—Ä –º—ã—à–µ—á–Ω–æ–π –º–∞—Å—Å—ã, –∫–æ—Ä—Ä–µ–∫—Ü–∏—è —Ñ–∏–≥—É—Ä—ã.<br>
                    –ë–æ–ª–µ–µ 10 –ª–µ—Ç –æ–ø—ã—Ç–∞ —Å–∏–ª–æ–≤–æ–≥–æ —Ç—Ä–µ–Ω–∏–Ω–≥–∞, –ø–æ–º–æ–≥—É –Ω–∞–±—Ä–∞—Ç—å –º—ã—à–µ—á–Ω—É—é –º–∞—Å—Å—É, —É–ª—É—á—à–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–º–∞.<br>
                    <strong>–û–ø—ã—Ç —Ä–∞–±–æ—Ç—ã: 12 –ª–µ—Ç</strong>
                </div>
            </div>

            <div class="trainer_card">
                <img src="{% static 'mainfitnes/img/trainer3.png' %}" alt="–¢—Ä–µ–Ω–µ—Ä BodyClub" class="trainer_image">
                <div class="trainer_name">–ï–∫–∞—Ç–µ—Ä–∏–Ω–∞ –ï–º–µ–ª—å—è–Ω–æ–≤–∞</div>
                <div class="trainer_role">–ú–∞—Å—Ç–µ—Ä —Ç—Ä–µ–Ω–µ—Ä</div>
                <div class="trainer_description">
                    –†–µ–ø–∏–Ω–∞, 4<br>
                    –î–∏–ø–ª–æ–º –∞—Å—Å–æ—Ü–∏–∞—Ü–∏–∏ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª–æ–≤ —Ñ–∏—Ç–Ω–µ—Å–∞.<br>
                    –°–µ—Ä—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä: –Ω–∞–±–æ—Ä —Å–∏–ª—ã, —É–ª—É—á—à–µ–Ω–∏–µ –≤—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç–∏, –Ω–∞–±–æ—Ä –º—ã—à–µ—á–Ω–æ–π –º–∞—Å—Å—ã, —Å–∏–ª–æ–≤–æ–π —Ç—Ä–µ–Ω–∏–Ω–≥.<br>
                    –ë–æ–ª–µ–µ 5 –ª–µ—Ç –æ–ø—ã—Ç–∞ —Å–∏–ª–æ–≤–æ–≥–æ —Ç—Ä–µ–Ω–∏–Ω–≥–∞, –ø–æ–º–æ–≥—É –Ω–∞–±—Ä–∞—Ç—å –º—ã—à–µ—á–Ω—É—é –º–∞—Å—Å—É, –¥–æ–±–∏—Ç—å—Å—è –∂–µ–ª–∞–µ–º–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞.<br>
                    <strong>–û–ø—ã—Ç —Ä–∞–±–æ—Ç—ã: 7 –ª–µ—Ç</strong>
                </div>
            </div>

            <div class="trainer_card">
                <img src="{% static 'mainfitnes/img/trainer5.png' %}" alt="–¢—Ä–µ–Ω–µ—Ä BodyClub" class="trainer_image">
                <div class="trainer_name">–ö–∏—Ä–∏–ª–ª –î–æ–±—Ä–∏–Ω</div>
                <div class="trainer_role">–ú–∞—Å—Ç–µ—Ä —Ç—Ä–µ–Ω–µ—Ä</div>
                <div class="trainer_description">
                    —É–ª. –õ–µ–Ω–∏–Ω—Å–∫–æ–≥–æ –ö–æ–º—Å–æ–º–æ–ª–∞, 34 <br>
                    –î–∏–ø–ª–æ–º –∞—Å—Å–æ—Ü–∏–∞—Ü–∏–∏ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª–æ–≤ —Ñ–∏—Ç–Ω–µ—Å–∞.<br>
                    –°–µ—Ä—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä: –Ω–∞–±–æ—Ä —Å–∏–ª—ã, —É–ª—É—á—à–µ–Ω–∏–µ –≤—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç–∏, –Ω–∞–±–æ—Ä –º—ã—à–µ—á–Ω–æ–π –º–∞—Å—Å—ã, —Å–Ω–∏–∂–µ–Ω–∏–µ –≤–µ—Å–∞.<br>
                    –ü–æ–º–æ—â—å –≤ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–µ —Ñ–∏–≥—É—Ä—ã, –Ω–∞–±–æ—Ä –º—ã—à–µ—á–Ω–æ–π –º–∞—Å—Å—ã, —Å–Ω–∏–∂–µ–Ω–∏–µ –≤–µ—Å–∞, —Å–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–≥—Ä–∞–º–º –ø–∏—Ç–∞–Ω–∏—è, —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ç—Ä–µ–Ω–∏–Ω–≥.<br>
                    <strong>–û–ø—ã—Ç —Ä–∞–±–æ—Ç—ã: 15 –ª–µ—Ç</strong>
                </div>
            </div>

            <div class="trainer_card">
                <img src="{% static 'mainfitnes/img/trainer4.png' %}" alt="–¢—Ä–µ–Ω–µ—Ä BodyClub" class="trainer_image">
                <div class="trainer_name">–ê–Ω–∞—Å—Ç–∞—Å–∏—è –®—É–ª–µ–ø–æ–≤–∞</div>
                <div class="trainer_role">–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π —Ç—Ä–µ–Ω–µ—Ä</div>
                <div class="trainer_description">
                    —É–ª. –õ–µ–Ω–∏–Ω—Å–∫–æ–≥–æ –ö–æ–º—Å–æ–º–æ–ª–∞, 34<br>
                    –§–∏–∑–∫—É–ª—å—Ç—É—Ä–Ω–æ–µ –ø–µ–¥–∞–≥–æ–≥–∏—á–µ—Å–∫–æ–µ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ<br>
                    –°–µ—Ä—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä: –Ω–∞–±–æ—Ä —Å–∏–ª—ã, —É–ª—É—á—à–µ–Ω–∏–µ –≤—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç–∏, –ª–µ—á–µ–±–Ω–æ-—Ñ–∏–∑–∏—á–µ—Å–∫–∞—è –∫—É–ª—å—Ç—É—Ä–∞, –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ.<br>
                    –ü–æ–º–æ—â—å –≤ –≤–æ—Å—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–∏ –ø–æ—Å–ª–µ —Ç—è–∂–µ–ª–æ–≥–æ —ç—Ç–∞–ø–∞ —Ç—Ä–∞–≤–º, —Ä–∞–∑–≤–∏—Ç–∏–µ –≤—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç–∏, –ª–µ—á–µ–±–Ω–∞—è –≥–∏–º–Ω–∞—Å—Ç–∏–∫–∞. –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∫ –∫–∞–∂–¥–æ–≥–æ –∫–ª–∏–µ–Ω—Ç—É.<br>
                    <strong>–û–ø—ã—Ç —Ä–∞–±–æ—Ç—ã: 3 –≥–æ–¥–∞ </strong>
                </div>
            </div>
        </section>
    </div>

        <footer class="footer">
            <div class="footer-main">
                <div class="foter-main_ogr">
                    <div class="footer-left">
                        <h2 class="footer-logo">BodyClub</h2>
                        <ul class="footer-links">
                            <li> <a href="{% url 'index2' %}"> –ê–±–æ–Ω–µ–º–µ–Ω—Ç—ã </a> </li>
                            <li> <a href="{% url 'index3' %}"> –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ </a> </li>
                            <li> <a href="{% url 'index4' %}"> –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ </a> </li>
                            <li> <a href="{% url 'index5' %}"> –ö–æ–Ω—Ç–∞–∫—Ç—ã </a> </li>
                        </ul>
                        <button class="callback-btn">–û–±—Ä–∞—Ç–Ω—ã–π –∑–≤–æ–Ω–æ–∫</button>
                    </div>
                    <div class="footer-right">
                        <a href="tel:+79999999999">‚òé +7 (999) 999-99-99</a>
                        <a href="https://bodyclub.ru" target="_blank">üåê bodyclub.ru</a>
                        <iframe
                            src="https://yandex.ru/map-widget/v1/?um=constructor%3Aexamplemapid&amp;source=constructor"
                            class="footer-map"
                            frameborder="0"
                            allowfullscreen
                        ></iframe>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <div class="footer-bottom-logo">BodyClub</div>
                <ul class="footer-bottom-links">
                    <li> <a href="{% url 'index2' %}" class="navigation_a"> –ê–±–æ–Ω–µ–º–µ–Ω—Ç—ã </a> </li>
                    <li> <a href="{% url 'index3' %}" class="navigation_a"> –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ </a> </li>
                    <li> <a href="{% url 'index4' %}" class="navigation_a"> –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ  </a> </li>
                    <li> <a href="{% url 'index5' %}" class="navigation_a"> –ö–æ–Ω—Ç–∞–∫—Ç—ã </a> </li>
                </ul>
            </div>
        </footer>
    </div>


<div id="signup-modal" class="modal">
    <div class="modal-content">
        <span class="modal-close">&times;</span>
        <h3>–ó–∞–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É</h3>
        <form id="signup-form" method="POST">
            {% csrf_token %}
            <input type="hidden" name="training_id" id="modal-training-id">
            <input type="hidden" name="training_type" id="modal-training-type">
            
            <div class="form-group">
                <label for="name">–í–∞—à–µ –∏–º—è:</label>
                <input type="text" id="name" name="name" required>
            </div>
            
            <div class="form-group">
                <label for="phone">–¢–µ–ª–µ—Ñ–æ–Ω:</label>
                <input type="tel" id="phone" name="phone" required>
            </div>
            
            <div class="form-group">
                <label for="email">Email (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ):</label>
                <input type="email" id="email" name="email">
            </div>
            
            <button type="submit" class="submit-btn">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
        </form>
        <div id="signup-success" style="display: none;">
            <p>–°–ø–∞—Å–∏–±–æ! –í–∞—à–∞ –∑–∞—è–≤–∫–∞ –ø—Ä–∏–Ω—è—Ç–∞. –ú—ã —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏ –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è.</p>
        </div>
    </div>
</div>



<div id="callback-modal" class="modal">
    <div class="modal-content">
        <span class="modal-close">&times;</span>
        <h3>–ó–∞–∫–∞–∑–∞—Ç—å –æ–±—Ä–∞—Ç–Ω—ã–π –∑–≤–æ–Ω–æ–∫</h3>
        <form id="callback-form" method="POST">
            {% csrf_token %}
            <div class="form-group">
                <label for="callback-name">–í–∞—à–µ –∏–º—è:</label>
                <input type="text" id="callback-name" name="name" required>
            </div>
            <div class="form-group">
                <label for="callback-phone">–¢–µ–ª–µ—Ñ–æ–Ω:</label>
                <input type="tel" id="callback-phone" name="phone" required>
            </div>
            <button type="submit" class="submit-btn">–ü–µ—Ä–µ–∑–≤–æ–Ω–∏—Ç–µ –º–Ω–µ</button>
        </form>
        <div id="callback-success" style="display: none;">
            <p>–°–ø–∞—Å–∏–±–æ! –ú—ã —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏ –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è.</p>
        </div>
    </div>
</div>

    <script>
    document.addEventListener('DOMContentLoaded', function() {
        const container = document.getElementById('workouts-container');
        const filterBtns = document.querySelectorAll('.filter-btn');
        

        function loadWorkouts(branch = 'all') {
            fetch('/api/workouts/')
                .then(response => response.json())
                .then(data => {
                    container.innerHTML = '';
                    
                    if (branch !== 'all') {
                        data = data.filter(item => item.branch === branch);
                    }
                    
                    if (data.length === 0) {
                        container.innerHTML = '<p class="no-data">–ù–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ –≤ –≤—ã–±—Ä–∞–Ω–Ω–æ–º —Ñ–∏–ª–∏–∞–ª–µ</p>';
                        return;
                    }
                    
                    data.forEach(item => {
                        const card = document.createElement('div');
                        card.className = 'workout-card';
                        card.innerHTML = `
                            <h3 class="workout-title">${item.title}</h3>
                            <div class="workout-branch">${getBranchName(item.branch)}</div>
                            <div class="workout-trainer">–¢—Ä–µ–Ω–µ—Ä: ${item.trainer}</div>
                            <p class="workout-description">${item.description}</p>
                            <div class="workout-schedule">
                                <span class="workout-time">${item.time}</span>
                                <span class="workout-days">${item.days}</span>
                            </div>
                            <button class="signup-btn" data-id="${item.id}">–ó–∞–ø–∏—Å–∞—Ç—å—Å—è</button>
                        `;
                        container.appendChild(card);
                    });
                });
        }
        

        function getBranchName(branchCode) {
            const branches = {
                'dvor': '–î–≤–æ—Ä—Ü–æ–≤–∞—è 4–ê',
                'repina': '—É–ª. –†–µ–ø–∏–Ω–∞ 4',
                'lenina': '–ø—Ä. –õ–µ–Ω–∏–Ω—Å–∫–æ–≥–æ –ö–æ–º—Å–æ–º–æ–ª–∞ 34'
            };
            return branches[branchCode] || branchCode;
        }
        

        filterBtns.forEach(btn => {
            btn.addEventListener('click', function() {
                filterBtns.forEach(b => b.classList.remove('active'));
                this.classList.add('active');
                loadWorkouts(this.dataset.branch);
            });
        });
        

        loadWorkouts();
    });

    const hamburger = document.getElementById('hamburger');
    const navigation = document.querySelector('.navigation');
        
        hamburger.addEventListener('click', () => {
            navigation.classList.toggle('show');
        });

   

    const track = document.querySelector('.slider_track');
    const dots = document.querySelectorAll('.dot');
    const prevBtn = document.querySelector('.slider_btn.prev');
    const nextBtn = document.querySelector('.slider_btn.next');

    const cardsPerView = 3;
    const totalCards = document.querySelectorAll('.slider_image').length;
    const maxIndex = Math.ceil(totalCards / cardsPerView) - 1;
    let index = 0;

    function updateSlider() {
        const offset = index * -(320 * cardsPerView); 
        track.style.transform = `translateX(${offset}px)`;

        dots.forEach(dot => dot.classList.remove('active'));
        if (dots[index]) dots[index].classList.add('active');
    }

    nextBtn.addEventListener('click', () => {
        if (index < maxIndex) {
            index++;
            updateSlider();
        }
    });

    prevBtn.addEventListener('click', () => {
        if (index > 0) {
            index--;
            updateSlider();
        }
    });

    dots.forEach((dot, i) => {
        dot.addEventListener('click', () => {
            index = i;
            updateSlider();
        });
    });




    const modal = document.getElementById('signup-modal');
    const modalClose = document.querySelector('.modal-close');
    const signupForm = document.getElementById('signup-form');
    const signupSuccess = document.getElementById('signup-success');


document.addEventListener('click', function(e) {
    if (e.target.classList.contains('book-btn')) {

        const isAuthenticated = {% if user.is_authenticated %}true{% else %}false{% endif %};
        
        if (!isAuthenticated) {

            window.location.href = "{% url 'login' %}?redirect=" + encodeURIComponent(window.location.pathname);
            return;
        }
        
        document.getElementById('modal-training-id').value = e.target.dataset.id;
        document.getElementById('modal-training-type').value = 'personal';
        modal.style.display = 'block';
    }
    
    if (e.target.classList.contains('signup-btn')) {

        const isAuthenticated = {% if user.is_authenticated %}true{% else %}false{% endif %};
        
        if (!isAuthenticated) {

            window.location.href = "{% url 'login' %}?redirect=" + encodeURIComponent(window.location.pathname);
            return;
        }
        
        document.getElementById('modal-training-id').value = e.target.dataset.id;
        document.getElementById('modal-training-type').value = 'group';
        modal.style.display = 'block';
    }
});



modalClose.onclick = function() {
    modal.style.display = 'none';
    signupForm.style.display = 'block';
    signupSuccess.style.display = 'none';
}

window.onclick = function(event) {
    if (event.target == modal) {
        modal.style.display = 'none';
        signupForm.style.display = 'block';
        signupSuccess.style.display = 'none';
    }
}


signupForm.addEventListener('submit', function(e) {
    e.preventDefault();
    
    fetch('/sign-up/', {
        method: 'POST',
        body: new FormData(this),
        headers: {
            'X-CSRFToken': document.querySelector('[name=csrfmiddlewaretoken]').value
        }
    })
    .then(response => response.json())
    .then(data => {
        if (data.success) {
            signupForm.style.display = 'none';
            signupSuccess.style.display = 'block';
            setTimeout(() => {
                modal.style.display = 'none';
                signupForm.style.display = 'block';
                signupSuccess.style.display = 'none';
            }, 2000);
        } else {
            alert('–û—à–∏–±–∫–∞: ' + (data.errors || '–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ'));
        }
    })
    .catch(error => {
        alert('–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Ñ–æ—Ä–º—ã');
    });
});




document.querySelectorAll('.callback-btn').forEach(btn => {
    btn.addEventListener('click', () => {
        document.getElementById('callback-modal').style.display = 'block';
    });
});


document.getElementById('callback-form').addEventListener('submit', function(e) {
    e.preventDefault();
    fetch('/callback/', {
        method: 'POST',
        body: new FormData(this),
        headers: {
            'X-CSRFToken': document.querySelector('[name=csrfmiddlewaretoken]').value
        }
    })
    .then(response => response.json())
    .then(data => {
        if (data.success) {
            document.getElementById('callback-form').style.display = 'none';
            document.getElementById('callback-success').style.display = 'block';
            setTimeout(() => {
                document.getElementById('callback-modal').style.display = 'none';
                document.getElementById('callback-form').style.display = 'block';
                document.getElementById('callback-success').style.display = 'none';
            }, 2000);
        } else {
            alert('–û—à–∏–±–∫–∞: ' + (data.errors || '–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö'));
        }
    });
});


document.querySelectorAll('.modal-close').forEach(closeBtn => {
    closeBtn.addEventListener('click', function() {
        this.closest('.modal').style.display = 'none';
    });
});


document.querySelectorAll('.modal').forEach(modal => {
    modal.addEventListener('click', function(e) {
        if (e.target === this) {
            this.style.display = 'none';
        }
    });
});
</script>
</body>
</html>