{% load static %}
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BodyClub - –ö–æ–Ω—Ç–∞–∫—Ç—ã</title>
    <link rel="stylesheet" href="{% static 'mainfitnes/css/style.css' %}">
    <link rel="stylesheet" href="{% static 'mainfitnes/css/contacts.css' %}">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <header class="header">
            <div class="header_logo">
                <a href="{% url 'index' %}" class="header_logo_h1">BodyClub</a>
            </div>
                <nav class="navigation">
                    <a href="{% url 'index2' %}" class="navigation_a"> –ê–±–æ–Ω–µ–º–µ–Ω—Ç—ã</a>
                    <a href="{% url 'index3' %}" class="navigation_a"> –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ </a>
                    <a href="{% url 'index4' %}" class="navigation_a"> –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ </a>
                    <a href="{% url 'index5' %}" class="navigation_a"> –ö–æ–Ω—Ç–∞–∫—Ç—ã </a>
                    {% if user.is_authenticated %}
                        <a href="{% url 'profile' %}" class="navigation_a">–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</a>
                    {% else %}
                        <a href="{% url 'login' %}" class="navigation_a">–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</a>
                    {% endif %}
                </nav>
            <div class="svaz">
                <button class="callback-btn">–û–±—Ä–∞—Ç–Ω—ã–π –∑–≤–æ–Ω–æ–∫</button>
            </div>
            <button class="hamburger" id="hamburger">&#9776;</button>
        </header>

        <div class="crumbl_block">
            <p class="crumbs_text">–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ / –ö–æ–Ω—Ç–∞–∫—Ç—ã</p>
        </div>

        <section class="contacts-section">
            <h1 class="contacts-title">–ö–æ–Ω—Ç–∞–∫—Ç—ã</h1>
            
            <div class="contacts-container">
                <div class="contact-info">
                    <h2 class="contact-subtitle">–ù–∞—à–∏ —Ñ–∏–ª–∏–∞–ª—ã</h2>
                    
                    <div class="contact-card">
                        <h3 class="contact-card-title">–î–≤–æ—Ä—Ü–æ–≤–∞—è 4–ê</h3>
                        <div class="contact-card-content">
                            <p><strong>–ê–¥—Ä–µ—Å:</strong> –≥. –£–ª—å—è–Ω–æ–≤—Å–∫, —É–ª. –î–≤–æ—Ä—Ü–æ–≤–∞—è, 4–ê</p>
                            <p><strong>–¢–µ–ª–µ—Ñ–æ–Ω:</strong> +7 (999) 999-99-99</p>
                            <p><strong>–ß–∞—Å—ã —Ä–∞–±–æ—Ç—ã:</strong> –ö—Ä—É–≥–ª–æ—Å—É—Ç–æ—á–Ω–æ </p>
                        </div>
                    </div>
                    
                    <div class="contact-card">
                        <h3 class="contact-card-title">—É–ª. –†–µ–ø–∏–Ω–∞ 4</h3>
                        <div class="contact-card-content">
                            <p><strong>–ê–¥—Ä–µ—Å:</strong> –≥. –£–ª—å—è–Ω–æ–≤—Å–∫, —É–ª. –†–µ–ø–∏–Ω–∞, 4</p>
                            <p><strong>–¢–µ–ª–µ—Ñ–æ–Ω:</strong> +7 (999) 999-99-99</p>
                            <p><strong>–ß–∞—Å—ã —Ä–∞–±–æ—Ç—ã:</strong> –ö—Ä—É–≥–ª–æ—Å—É—Ç–æ—á–Ω–æ </p>
                        </div>
                    </div>
                    
                    <div class="contact-card">
                        <h3 class="contact-card-title">–ø—Ä. –õ–µ–Ω–∏–Ω—Å–∫–æ–≥–æ –ö–æ–º—Å–æ–º–æ–ª–∞ 34</h3>
                        <div class="contact-card-content">
                            <p><strong>–ê–¥—Ä–µ—Å:</strong> –≥. –£–ª—å—è–Ω–æ–≤—Å–∫, –ø—Ä. –õ–µ–Ω–∏–Ω—Å–∫–æ–≥–æ –ö–æ–º—Å–æ–º–æ–ª–∞, 34</p>
                            <p><strong>–¢–µ–ª–µ—Ñ–æ–Ω:</strong> +7 (999) 999-99-99</p>
                            <p><strong>–ß–∞—Å—ã —Ä–∞–±–æ—Ç—ã:</strong> –ö—Ä—É–≥–ª–æ—Å—É—Ç–æ—á–Ω–æ </p>
                        </div>
                    </div>
                </div>
                
                <div class="contact-form-section">
                    <h2 class="contact-subtitle">–û—Å—Ç–∞–≤—å—Ç–µ –æ—Ç–∑—ã–≤</h2>
                    <form method="POST" class="review-form">
                        {% csrf_token %}
                        <div class="form-group">
                            <label for="id_name">–í–∞—à–µ –∏–º—è:</label>
                            {{ form.name }}
                        </div>
                        <div class="form-group">
                            <label for="id_content">–í–∞—à –æ—Ç–∑—ã–≤:</label>
                            {{ form.content }}
                        </div>
                        <button type="submit" class="submit-btn">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤</button>
                    </form>
                    
                    <div class="reviews-section">
                        <h2 class="reviews-title">–û—Ç–∑—ã–≤—ã –Ω–∞—à–∏—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤</h2>
                        <div class="reviews-list">
                            {% for review in reviews %}
                            <div class="review-item">
                                <div class="review-header">
                                    <h3 class="review-author">{{ review.name }}</h3>
                                    <span class="review-date">{{ review.created_at|date:"d.m.Y" }}</span>
                                </div>
                                <p class="review-text">{{ review.content }}</p>
                            </div>
                            {% empty %}
                            <p class="no-reviews">–ü–æ–∫–∞ –Ω–µ—Ç –æ—Ç–∑—ã–≤–æ–≤. –ë—É–¥—å—Ç–µ –ø–µ—Ä–≤—ã–º!</p>
                            {% endfor %}
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <footer class="footer">
            <div class="footer-main">
                <div class="foter-main_ogr">
                    <div class="footer-left">
                        <h2 class="footer-logo">BodyClub</h2>
                        <ul class="footer-links">
                            <li> <a href="{% url 'index2' %}"> –ê–±–æ–Ω–µ–º–µ–Ω—Ç—ã </a> </li>
                            <li> <a href="{% url 'index3' %}"> –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ </a> </li>
                            <li> <a href="{% url 'index4' %}"> –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ </a> </li>
                            <li> <a href="{% url 'index5' %}"> –ö–æ–Ω—Ç–∞–∫—Ç—ã </a> </li>
                        </ul>
                        <button class="callback-btn">–û–±—Ä–∞—Ç–Ω—ã–π –∑–≤–æ–Ω–æ–∫</button>
                    </div>
                    <div class="footer-right">
                        <a href="tel:+79999999999">‚òé +7 (999) 999-99-99</a>
                        <a href="https://bodyclub.ru" target="_blank">üåê bodyclub.ru</a>
                        <iframe
                            src="https://yandex.ru/map-widget/v1/?um=constructor%3Aexamplemapid&amp;source=constructor"
                            class="footer-map"
                            frameborder="0"
                            allowfullscreen
                        ></iframe>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <div class="footer-bottom-logo">BodyClub</div>
                <ul class="footer-bottom-links">
                    <li> <a href="{% url 'index2' %}" class="navigation_a"> –ê–±–æ–Ω–µ–º–µ–Ω—Ç—ã </a> </li>
                    <li> <a href="{% url 'index3' %}" class="navigation_a"> –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ </a> </li>
                    <li> <a href="{% url 'index4' %}" class="navigation_a"> –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ  </a> </li>
                    <li> <a href="{% url 'index5' %}" class="navigation_a"> –ö–æ–Ω—Ç–∞–∫—Ç—ã </a> </li>
                </ul>
            </div>
        </footer>

    </div>


<div id="callback-modal" class="modal">
    <div class="modal-content">
        <span class="modal-close">&times;</span>
        <h3>–ó–∞–∫–∞–∑–∞—Ç—å –æ–±—Ä–∞—Ç–Ω—ã–π –∑–≤–æ–Ω–æ–∫</h3>
        <form id="callback-form" method="POST">
            {% csrf_token %}
            <div class="form-group">
                <label for="callback-name">–í–∞—à–µ –∏–º—è:</label>
                <input type="text" id="callback-name" name="name" required>
            </div>
            <div class="form-group">
                <label for="callback-phone">–¢–µ–ª–µ—Ñ–æ–Ω:</label>
                <input type="tel" id="callback-phone" name="phone" required>
            </div>
            <button type="submit" class="submit-btn">–ü–µ—Ä–µ–∑–≤–æ–Ω–∏—Ç–µ –º–Ω–µ</button>
        </form>
        <div id="callback-success" style="display: none;">
            <p>–°–ø–∞—Å–∏–±–æ! –ú—ã —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏ –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è.</p>
        </div>
    </div>
</div>

    <script>
        const hamburger = document.getElementById('hamburger');
        const navigation = document.querySelector('.navigation');
            
        hamburger.addEventListener('click', () => {
            navigation.classList.toggle('show');
        });



document.querySelectorAll('.callback-btn').forEach(btn => {
    btn.addEventListener('click', () => {
        document.getElementById('callback-modal').style.display = 'block';
    });
});


document.getElementById('callback-form').addEventListener('submit', function(e) {
    e.preventDefault();
    fetch('/callback/', {
        method: 'POST',
        body: new FormData(this),
        headers: {
            'X-CSRFToken': document.querySelector('[name=csrfmiddlewaretoken]').value
        }
    })
    .then(response => response.json())
    .then(data => {
        if (data.success) {
            document.getElementById('callback-form').style.display = 'none';
            document.getElementById('callback-success').style.display = 'block';
            setTimeout(() => {
                document.getElementById('callback-modal').style.display = 'none';
                document.getElementById('callback-form').style.display = 'block';
                document.getElementById('callback-success').style.display = 'none';
            }, 2000);
        } else {
            alert('–û—à–∏–±–∫–∞: ' + (data.errors || '–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö'));
        }
    });
});


document.querySelectorAll('.modal-close').forEach(closeBtn => {
    closeBtn.addEventListener('click', function() {
        this.closest('.modal').style.display = 'none';
    });
});


document.querySelectorAll('.modal').forEach(modal => {
    modal.addEventListener('click', function(e) {
        if (e.target === this) {
            this.style.display = 'none';
        }
    });
});
    </script>
</body>
</html>